/* ============================================
   DATA TABLE
   Family F: Data Display - Enterprise
   ============================================ */

[data-datatable] {
  width: 100%;
  border: var(--table-border-width) solid var(--table-border-color);
  border-radius: var(--radius-md);
  background: var(--theme-surface-bg);
  overflow: hidden;
}

/* Toolbar */
[data-datatable-toolbar] {
  display: flex;
  flex-direction: row;
  align-items: center;
  gap: var(--datatable-toolbar-gap);
  padding: var(--datatable-toolbar-padding-y) var(--datatable-toolbar-padding-x);
  border-bottom: var(--table-border-width) solid var(--table-border-color);
  background: var(--table-header-bg);
}

[data-datatable-filter] {
  flex: 1;
  max-width: var(--datatable-filter-max-width);
  padding: var(--space-xs) var(--space-sm);
  border: var(--table-border-width) solid var(--table-border-color);
  border-radius: var(--radius-sm);
  background: var(--theme-surface-bg);
  color: var(--theme-text-primary);
  font-size: var(--font-size-sm);
}

/* Scroll container */
[data-datatable-scroll] {
  width: 100%;
  overflow-x: auto;
}

/* Table base */
[data-datatable-table] {
  width: 100%;
  border-collapse: collapse;
  font-size: var(--table-cell-font-size);
}

/* Header */
[data-datatable-head] {
  background: var(--datatable-header-bg);
}

[data-datatable-head-row] {
  border-bottom: var(--table-border-width) solid var(--datatable-border-color);
}

[data-datatable-head-cell] {
  padding: var(--table-cell-padding-y) var(--table-cell-padding-x);
  text-align: left;
  font-weight: var(--table-header-font-weight);
  font-size: var(--table-header-font-size);
  color: var(--table-header-fg);
  white-space: nowrap;
  cursor: pointer;
  user-select: none;
  transition: background var(--table-row-transition-duration) var(--table-row-transition-ease);
}

[data-datatable-head-cell]:hover {
  background: var(--datatable-row-bg-hover);
}

[data-datatable-head-cell] [data-datatable-sort-icon] {
  margin-left: var(--space-xs);
  opacity: 0.5;
  font-size: var(--font-size-xs);
}

[data-datatable-head-cell][aria-sort="ascending"] [data-datatable-sort-icon],
[data-datatable-head-cell][aria-sort="descending"] [data-datatable-sort-icon] {
  opacity: 1;
  color: var(--theme-action-accent-fg);
}

/* Body */
[data-datatable-row] {
  border-bottom: var(--table-border-width) solid var(--datatable-border-color);
  transition: background var(--table-row-transition-duration) var(--table-row-transition-ease);
}

[data-datatable-row]:nth-child(even) {
  background: var(--table-row-bg-striped);
}

[data-datatable-row]:hover {
  background: var(--datatable-row-bg-hover);
}

[data-datatable-row][data-state="selected"] {
  background: var(--datatable-row-bg-selected);
}

/* Cells */
[data-datatable-cell] {
  padding: var(--table-cell-padding-y) var(--table-cell-padding-x);
  font-size: var(--table-cell-font-size);
  color: var(--table-cell-fg);
}

/* Density Variants */
[data-datatable][data-density="compact"] [data-datatable-cell],
[data-datatable][data-density="compact"] [data-datatable-head-cell] {
  padding: var(--datatable-density-compact-padding-y) var(--datatable-density-compact-padding-x);
  font-size: var(--font-size-xs);
}

[data-datatable][data-density="comfortable"] [data-datatable-cell],
[data-datatable][data-density="comfortable"] [data-datatable-head-cell] {
  padding: var(--datatable-density-comfortable-padding-y) var(--datatable-density-comfortable-padding-x);
}

[data-datatable][data-density="spacious"] [data-datatable-cell],
[data-datatable][data-density="spacious"] [data-datatable-head-cell] {
  padding: var(--datatable-density-spacious-padding-y) var(--datatable-density-spacious-padding-x);
  font-size: var(--font-size-base);
}

/* Empty state */
[data-datatable-empty] {
  padding: var(--space-xl) var(--table-cell-padding-x);
  text-align: center;
  color: var(--theme-text-secondary);
  font-size: var(--font-size-sm);
}

/* Loading state */
[data-datatable-loading] {
  padding: var(--space-xl) var(--table-cell-padding-x);
  text-align: center;
  color: var(--theme-text-secondary);
  font-size: var(--font-size-sm);
}

/* Pagination */
[data-datatable-pagination] {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--table-cell-padding-y) var(--table-cell-padding-x);
  border-top: var(--table-border-width) solid var(--datatable-border-color);
  background: var(--datatable-header-bg);
}

[data-datatable-pagination] button {
  padding: var(--space-xs) var(--space-sm);
  border-radius: var(--radius-sm);
  border: var(--table-border-width) solid var(--datatable-border-color);
  background: var(--theme-surface-bg);
  color: var(--theme-text-primary);
  cursor: pointer;
  transition: background var(--table-row-transition-duration);
  font-size: var(--font-size-sm);
}

[data-datatable-pagination] button:hover:not(:disabled) {
  background: var(--datatable-row-bg-hover);
}

[data-datatable-pagination] button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

[data-datatable-pagination] span {
  font-size: var(--font-size-sm);
  color: var(--theme-text-secondary);
}

/* Column toggle item */
[data-dropdown-menu-checkbox-item][data-col-index] {
  cursor: pointer;
}

[data-dropdown-menu-checkbox-item][aria-checked="false"] {
  opacity: 0.5;
}

/* Density toggle */
[data-datatable-density-toggle] {
  display: flex;
  flex-direction: row;
  gap: var(--space-xs);
}

[data-density-btn] {
  padding: var(--space-xs) var(--space-sm);
  border-radius: var(--radius-sm);
  border: var(--table-border-width) solid var(--datatable-border-color);
  background: var(--theme-surface-bg);
  color: var(--theme-text-primary);
  cursor: pointer;
  font-size: var(--font-size-sm);
}

[data-density-btn][data-active="true"] {
  background: var(--theme-action-accent-bg);
  color: var(--theme-action-accent-fg);
  border-color: var(--theme-action-accent-bg);
}

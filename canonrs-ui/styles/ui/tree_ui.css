/* ============================================
   TREE â€” Enterprise Level
   Family B: Selection
   ============================================ */

[data-tree] {
  display: flex;
  flex-direction: column;
  gap: var(--tree-gap);
}

[data-tree-item] {
  display: flex;
  align-items: center;
  min-height: var(--tree-item-height);
  padding: var(--tree-item-padding);
  border-radius: var(--tree-item-radius);
  color: var(--tree-item-fg);
  font-size: var(--tree-item-font-size);
  cursor: pointer;
  transition: background var(--tree-transition-duration) var(--tree-transition-ease);
}

[data-tree-item]:hover {
  background: var(--tree-item-bg-hover);
}

[data-tree-item][data-selected="true"] {
  background: var(--tree-item-bg-selected);
}

[data-tree-item]:focus-visible {
  outline: none;
  box-shadow: 0 0 0 2px var(--theme-action-focus-ring);
}

/* Indentation by depth */
[data-tree-item][data-depth="0"] {
  padding-left: var(--tree-item-padding-x, var(--space-sm));
}

[data-tree-item][data-depth="1"] {
  padding-left: var(--tree-indent-depth-1);
}

[data-tree-item][data-depth="2"] {
  padding-left: calc(var(--tree-indent-depth-1) + var(--tree-indent));
}

[data-tree-item][data-depth="3"] {
  padding-left: calc(var(--tree-indent-depth-1) + var(--tree-indent) * 2);
}

[data-tree-item][data-depth="4"] {
  padding-left: calc(var(--tree-indent-depth-1) + var(--tree-indent) * 3);
}

/* Toggle button */
[data-tree-toggle] {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: var(--tree-icon-size);
  height: var(--tree-icon-size);
  margin-right: var(--space-xs);
  background: transparent;
  border: none;
  color: var(--tree-item-fg);
  cursor: pointer;
  transition: transform var(--tree-transition-duration) var(--tree-transition-ease);
  padding: 0;
}

[data-tree-toggle]:hover {
  opacity: 0.8;
}

/* Icon, checkbox, label */
[data-tree-icon] {
  margin-right: var(--space-xs);
}

[data-tree-checkbox-wrapper] {
  margin-right: var(--space-xs);
}

[data-tree-label] {
  flex: 1;
}

/* Tree group - children container */
[data-tree-group] {
  display: flex;
  flex-direction: column;
  gap: var(--tree-gap);
}

/* Hide collapsed children */
[data-tree-item][data-expanded="false"] + [data-tree-group] {
  display: none;
}

[data-tree-item][data-expanded="true"] + [data-tree-group] {
  display: flex;
}
